<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors Project</title>
</head>
<body>
  <script>

    function computerPlay(){
        let randomInt = Math.floor(Math.random() * 3)
        switch(randomInt){
            case 0:
                return "Rock"
                break;
            case 1:
                return "Paper"
                break;
            case 2:
                return "Scissors"
                break;
        }
    }

    function playRound(playerSelection, computerSelection){
        if (playerSelection === "rock" && computerSelection === "paper"){
            return "You Lose! Paper beats Rock";
        }
        else if (playerSelection === "rock" && computerSelection === "scissors"){
            return "You Win! Rock beats Scissors";
        }
        else if (playerSelection === "paper" && computerSelection === "rock"){
            return "You Win! Paper beats Rock";
        }
        else if (playerSelection === "paper" && computerSelection === "scissors"){
            return "You Lose! Scissors beats Paper";
        }
        else if (playerSelection === "scissors" && computerSelection === "rock"){
            return "You Lose! Rock beats Scissors";
        }
        else if (playerSelection === "scissors" && computerSelection === "paper"){
            return "You Win! Scissors beats Paper";
        }
        else if (playerSelection === computerSelection){
            return "It's a draw!"
        }
        else {return "Something went wrong, make sure you entered a valid value"}
    }

    function getPlayerSelection(){
        return prompt("Rock, Paper, or Scissors?")
        
    }

    function checkWinner(inquiry){
        let findWin = inquiry.search("Win")
        if (findWin < 0) {
            let findLose = inquiry.search("Lose")
            if (findLose < 0){
                let findDraw = inquiry.search("draw")
                if (findDraw < 0){
                    return undefined
                }
                else if (findDraw > 0){
                    return findDraw = "Draw"
                }
            }
            else if (findLose > 0){
                return findLose = "Lose"
            }
        }
        else if (findWin > 0){
            return findWin = "Win"
        }

    }

    function game(){
        let wins = 0;
        let loses = 0;
        let draws = 0;
        for (let x= 0; x < 5; x++){
           gameResult = (playRound(playerSelection, computerSelection))
           console.log(gameResult)
           playerSelection = getPlayerSelection().toLowerCase()
           computerSelection = computerPlay().toLowerCase()
           switch(checkWinner(gameResult)){
               case "Win":
                wins++
                break;
               case "Lose":
                loses++
                break;
               case "Draw":
                draws++
                break;
           }
                      
        }
        if (wins > loses){
               return "Congratulations you win " + wins +" to "+ loses +"."
           }
           else if (loses > wins){
               return "The computer has bested you " + loses +" to "+ wins +"."
           }
           else {
               return "The games have resulted in a draw"
           }
    }

    let playerSelection = getPlayerSelection().toLowerCase()
    let computerSelection = computerPlay().toLowerCase()
    
    
    console.log(game())



  </script>
</body>
</html>